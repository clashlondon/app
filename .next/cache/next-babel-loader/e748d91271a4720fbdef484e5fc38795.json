{"ast":null,"code":"var _jsxFileName = \"/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nvar processData = function processData(items) {\n  var participants = [];\n\n  var findUser = function findUser(name) {\n    return participants.find(function (p) {\n      return p.name === name;\n    });\n  };\n\n  items.forEach(function (war, i) {\n    console.log(\"war \".concat(i), war);\n    war.participants.forEach(function (_ref) {\n      var name = _ref.name,\n          battlesPlayed = _ref.battlesPlayed,\n          wins = _ref.wins;\n      var userObj = findUser(name);\n\n      if (!!userObj) {\n        userObj.battlesPlayed += battlesPlayed;\n        userObj.wins += wins;\n      } else {\n        userObj = {\n          name: name,\n          battlesPlayed: battlesPlayed,\n          wins: wins\n        };\n        participants.push(userObj);\n      }\n    });\n  });\n  return participants.sort(function (a, b) {\n    return b[\"wins\"] - a[\"wins\"] || b[\"battlesPlayed\"] - a[\"battlesPlayed\"];\n  });\n};\n\nvar WarPerformance = function WarPerformance(props) {\n  var data = processData(props.items);\n  console.log(data);\n  return __jsx(\"div\", {\n    className: \"jsx-3920773514\" + \" \" + 'table',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3920773514\" + \" \" + 'header',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Name\"), __jsx(\"span\", {\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Wins\"), __jsx(\"span\", {\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Battles\"), __jsx(\"span\", {\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Ratio\")), data.map(function (p, i) {\n    return __jsx(\"div\", {\n      key: i,\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, p.name), __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, p.wins), __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, p.battlesPlayed), __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, p.wins / p.battlesPlayed));\n  }), __jsx(_JSXStyle, {\n    id: \"3920773514\",\n    __self: this\n  }, \".table.jsx-3920773514{width:100%;}.table.jsx-3920773514 .header.jsx-3920773514{font-weight:bold;}.table.jsx-3920773514>div.jsx-3920773514{display:grid;grid-template-columns:20% 20% 30% 30%;}.table.jsx-3920773514>div.jsx-3920773514 span.jsx-3920773514{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;text-align:left;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdDa0IsQUFHc0IsQUFHTSxBQUdKLEFBS0QsV0FWZCxFQU13QyxJQUh4QyxrQ0FLQSxvQkFHa0IsZ0JBQ2xCIiwiZmlsZSI6Ii9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHJvY2Vzc0RhdGEgPSAoaXRlbXMpID0+IHtcbiAgbGV0IHBhcnRpY2lwYW50cyA9IFtdXG4gIGNvbnN0IGZpbmRVc2VyID0gKG5hbWUpID0+IHBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLm5hbWUgPT09IG5hbWUpO1xuICBpdGVtcy5mb3JFYWNoKCh3YXIsIGkpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGB3YXIgJHtpfWAsIHdhcik7XG4gICAgICB3YXIucGFydGljaXBhbnRzLmZvckVhY2goKHtuYW1lLCBiYXR0bGVzUGxheWVkLCB3aW5zfSkgPT4ge1xuICAgICAgICAgIHZhciB1c2VyT2JqID0gZmluZFVzZXIobmFtZSlcbiAgICAgICAgICBpZiAoISF1c2VyT2JqKSB7XG4gICAgICAgICAgICAgIHVzZXJPYmouYmF0dGxlc1BsYXllZCArPSBiYXR0bGVzUGxheWVkXG4gICAgICAgICAgICAgIHVzZXJPYmoud2lucyArPSB3aW5zXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXNlck9iaiA9IHtuYW1lLCBiYXR0bGVzUGxheWVkLCB3aW5zfVxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHMucHVzaCh1c2VyT2JqKVxuICAgICAgICAgIH1cbiAgICAgIH0pXG4gIH0pXG5cbiAgcmV0dXJuIHBhcnRpY2lwYW50cy5zb3J0KChhLCBiKSA9PiBiW1wid2luc1wiXSAtIGFbXCJ3aW5zXCJdIHx8IGJbXCJiYXR0bGVzUGxheWVkXCJdIC0gYVtcImJhdHRsZXNQbGF5ZWRcIl0pXG59XG5cbmNvbnN0IFdhclBlcmZvcm1hbmNlID0gKHByb3BzKSA9PiB7XG5cbiAgY29uc3QgZGF0YSA9IHByb2Nlc3NEYXRhKHByb3BzLml0ZW1zKVxuICBjb25zb2xlLmxvZyhkYXRhKVxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXsndGFibGUnfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXsnaGVhZGVyJ30+XG4gICAgICAgIDxzcGFuPk5hbWU8L3NwYW4+XG4gICAgICAgIDxzcGFuPldpbnM8L3NwYW4+XG4gICAgICAgIDxzcGFuPkJhdHRsZXM8L3NwYW4+XG4gICAgICAgIDxzcGFuPlJhdGlvPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICB7ZGF0YS5tYXAoKHAsIGkpID0+IChcbiAgICAgICAgPGRpdiBrZXk9e2l9PlxuICAgICAgICAgIDxzcGFuPntwLm5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPntwLndpbnN9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPntwLmJhdHRsZXNQbGF5ZWR9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPntwLndpbnMgLyBwLmJhdHRsZXNQbGF5ZWR9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpfVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAudGFibGUge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZSAuaGVhZGVyIHtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUgPiBkaXYge1xuICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyMCUgMjAlIDMwJSAzMCU7XG4gICAgICAgICAgLy8gZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxMDB2aDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUgPiBkaXYgc3BhbiB7XG4gICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBXYXJQZXJmb3JtYW5jZTtcbiJdfQ== */\\n/*@ sourceURL=/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js */\"));\n};\n\nexport default WarPerformance;","map":{"version":3,"sources":["/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js"],"names":["processData","items","participants","findUser","name","find","p","forEach","war","i","console","log","battlesPlayed","wins","userObj","push","sort","a","b","WarPerformance","props","data","map"],"mappings":";;;;;AAAA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC7B,MAAIC,YAAY,GAAG,EAAnB;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD;AAAA,WAAUF,YAAY,CAACG,IAAb,CAAkB,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACF,IAAF,KAAWA,IAAlB;AAAA,KAAlB,CAAV;AAAA,GAAjB;;AACAH,EAAAA,KAAK,CAACM,OAAN,CAAc,UAACC,GAAD,EAAMC,CAAN,EAAY;AACtBC,IAAAA,OAAO,CAACC,GAAR,eAAmBF,CAAnB,GAAwBD,GAAxB;AACAA,IAAAA,GAAG,CAACN,YAAJ,CAAiBK,OAAjB,CAAyB,gBAAiC;AAAA,UAA/BH,IAA+B,QAA/BA,IAA+B;AAAA,UAAzBQ,aAAyB,QAAzBA,aAAyB;AAAA,UAAVC,IAAU,QAAVA,IAAU;AACtD,UAAIC,OAAO,GAAGX,QAAQ,CAACC,IAAD,CAAtB;;AACA,UAAI,CAAC,CAACU,OAAN,EAAe;AACXA,QAAAA,OAAO,CAACF,aAAR,IAAyBA,aAAzB;AACAE,QAAAA,OAAO,CAACD,IAAR,IAAgBA,IAAhB;AACH,OAHD,MAGO;AACHC,QAAAA,OAAO,GAAG;AAACV,UAAAA,IAAI,EAAJA,IAAD;AAAOQ,UAAAA,aAAa,EAAbA,aAAP;AAAsBC,UAAAA,IAAI,EAAJA;AAAtB,SAAV;AACAX,QAAAA,YAAY,CAACa,IAAb,CAAkBD,OAAlB;AACH;AACJ,KATD;AAUH,GAZD;AAcA,SAAOZ,YAAY,CAACc,IAAb,CAAkB,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUA,CAAC,CAAC,MAAD,CAAD,GAAYD,CAAC,CAAC,MAAD,CAAb,IAAyBC,CAAC,CAAC,eAAD,CAAD,GAAqBD,CAAC,CAAC,eAAD,CAAzD;AAAA,GAAlB,CAAP;AACD,CAlBD;;AAoBA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAEhC,MAAMC,IAAI,GAAGrB,WAAW,CAACoB,KAAK,CAACnB,KAAP,CAAxB;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACA,SACE;AAAA,wCAAgB,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAgB,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,CADF,EAOGA,IAAI,CAACC,GAAL,CAAS,UAAChB,CAAD,EAAIG,CAAJ;AAAA,WACR;AAAK,MAAA,GAAG,EAAEA,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOH,CAAC,CAACF,IAAT,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOE,CAAC,CAACO,IAAT,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOP,CAAC,CAACM,aAAT,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAON,CAAC,CAACO,IAAF,GAASP,CAAC,CAACM,aAAlB,CAJF,CADQ;AAAA,GAAT,CAPH;AAAA;AAAA;AAAA,yjGADF;AAmCD,CAvCD;;AAyCA,eAAeO,cAAf","sourcesContent":["const processData = (items) => {\n  let participants = []\n  const findUser = (name) => participants.find((p) => p.name === name);\n  items.forEach((war, i) => {\n      console.log(`war ${i}`, war);\n      war.participants.forEach(({name, battlesPlayed, wins}) => {\n          var userObj = findUser(name)\n          if (!!userObj) {\n              userObj.battlesPlayed += battlesPlayed\n              userObj.wins += wins\n          } else {\n              userObj = {name, battlesPlayed, wins}\n              participants.push(userObj)\n          }\n      })\n  })\n\n  return participants.sort((a, b) => b[\"wins\"] - a[\"wins\"] || b[\"battlesPlayed\"] - a[\"battlesPlayed\"])\n}\n\nconst WarPerformance = (props) => {\n\n  const data = processData(props.items)\n  console.log(data)\n  return (\n    <div className={'table'}>\n      <div className={'header'}>\n        <span>Name</span>\n        <span>Wins</span>\n        <span>Battles</span>\n        <span>Ratio</span>\n      </div>\n      {data.map((p, i) => (\n        <div key={i}>\n          <span>{p.name}</span>\n          <span>{p.wins}</span>\n          <span>{p.battlesPlayed}</span>\n          <span>{p.wins / p.battlesPlayed}</span>\n        </div>\n      ))}\n      <style jsx>{`\n        .table {\n          width: 100%;\n        }\n        .table .header {\n          font-weight: bold;\n        }\n        .table > div {\n          display: grid;\n          grid-template-columns: 20% 20% 30% 30%;\n          // grid-template-rows: 100vh;\n        }\n        .table > div span {\n          flex-grow: 1;\n          text-align: left;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default WarPerformance;\n"]},"metadata":{},"sourceType":"module"}