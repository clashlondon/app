{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nvar _jsxFileName = \"/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\n\nvar WarUser =\n/*#__PURE__*/\nfunction () {\n  function WarUser(_ref) {\n    var name = _ref.name,\n        wins = _ref.wins,\n        battlesPlayed = _ref.battlesPlayed,\n        cardsEarned = _ref.cardsEarned,\n        numberOfBattles = _ref.numberOfBattles;\n\n    _classCallCheck(this, WarUser);\n\n    this.name = name;\n    this.wins = wins;\n    this.battles = battlesPlayed;\n    this.totalBattles = numberOfBattles;\n    this.cards = cardsEarned;\n  }\n\n  _createClass(WarUser, [{\n    key: \"addCards\",\n    value: function addCards(cards) {\n      this.cards += cards;\n    }\n  }, {\n    key: \"addWins\",\n    value: function addWins(wins) {\n      this.wins += wins;\n    }\n  }, {\n    key: \"addBattles\",\n    value: function addBattles(battles) {\n      this.battles += battles;\n    }\n  }, {\n    key: \"ratio\",\n    get: function get() {\n      return this.wins / this.battles || 0;\n    }\n  }]);\n\n  return WarUser;\n}();\n\nvar processData = function processData(items) {\n  var participants = [];\n\n  var findUser = function findUser(name) {\n    return participants.find(function (p) {\n      return p.name === name;\n    });\n  };\n\n  items.forEach(function (war, i) {\n    war.participants.forEach(function (user) {\n      var userObj = findUser(user.name);\n\n      if (!!userObj) {\n        userObj.addBattles(user.battlesPlayed);\n        userObj.addWins(user.wins);\n        userObj.addCards(user.cardsEarned);\n      } else {\n        userObj = new WarUser(user);\n        participants.push(userObj);\n      }\n    });\n  });\n  return participants;\n};\n\nvar sortData = function sortData(items, key, alt) {\n  return items.sort(function (a, b) {\n    return alt ? a[key] - b[key] : b[key] - a[key];\n  });\n};\n\nvar WarPerformance = function WarPerformance(props) {\n  console.log(props);\n\n  var _useState = useState('wins'),\n      sort = _useState[0],\n      setSort = _useState[1];\n\n  var _useState2 = useState(false),\n      alt = _useState2[0],\n      setAlt = _useState2[1];\n\n  var _useState3 = useState(processData(props.items)),\n      data = _useState3[0],\n      setData = _useState3[1];\n\n  var sortedData = sortData(data, sort, alt);\n\n  var clickSort = function clickSort(newSort) {\n    if (newSort === sort) {\n      setAlt(!alt);\n    } else {\n      setSort(newSort);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"table\", {\n    className: \"jsx-1777624385\" + \" \" + 'table',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    className: \"jsx-1777624385\" + \" \" + 'header',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Name\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('wins');\n    },\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Wins\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('battles');\n    },\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Battles\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('ratio');\n    },\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Ratio\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('cards');\n    },\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Cards\"))), __jsx(\"tbody\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, sortedData.map(function (p, i) {\n    return __jsx(\"tr\", {\n      key: i,\n      className: \"jsx-1777624385\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      className: \"jsx-1777624385\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, p.name), __jsx(\"td\", {\n      className: \"jsx-1777624385\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, p.wins), __jsx(\"td\", {\n      className: \"jsx-1777624385\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, p.battles), __jsx(\"td\", {\n      className: \"jsx-1777624385\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, p.ratio), __jsx(\"td\", {\n      className: \"jsx-1777624385\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, p.cards));\n  }))), __jsx(_JSXStyle, {\n    id: \"1777624385\",\n    __self: this\n  }, \".table.jsx-1777624385{width:100%;}.table.jsx-1777624385 .header.jsx-1777624385{font-weight:bold;}.table.jsx-1777624385>div.jsx-1777624385 span.jsx-1777624385{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;text-align:left;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZGa0IsQUFHc0IsQUFHTSxBQVFMLFdBVmQsTUFHQSxzREFRa0IsZ0JBQ2xCIiwiZmlsZSI6Ii9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuY2xhc3MgV2FyVXNlciB7XG4gIGNvbnN0cnVjdG9yKHtuYW1lLCB3aW5zLCBiYXR0bGVzUGxheWVkLCBjYXJkc0Vhcm5lZCwgbnVtYmVyT2ZCYXR0bGVzfSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLndpbnMgPSB3aW5zXG4gICAgdGhpcy5iYXR0bGVzID0gYmF0dGxlc1BsYXllZFxuICAgIHRoaXMudG90YWxCYXR0bGVzID0gbnVtYmVyT2ZCYXR0bGVzXG4gICAgdGhpcy5jYXJkcyA9IGNhcmRzRWFybmVkXG4gIH1cblxuICBhZGRDYXJkcyhjYXJkcykge1xuICAgIHRoaXMuY2FyZHMgKz0gY2FyZHNcbiAgfVxuXG4gIGFkZFdpbnMod2lucykge1xuICAgIHRoaXMud2lucyArPSB3aW5zXG4gIH1cblxuICBhZGRCYXR0bGVzKGJhdHRsZXMpIHtcbiAgICB0aGlzLmJhdHRsZXMgKz0gIGJhdHRsZXNcbiAgfVxuXG4gIGdldCByYXRpbygpIHtcbiAgICByZXR1cm4gdGhpcy53aW5zIC8gdGhpcy5iYXR0bGVzIHx8IDBcbiAgfVxufVxuXG5jb25zdCBwcm9jZXNzRGF0YSA9IChpdGVtcykgPT4ge1xuICBsZXQgcGFydGljaXBhbnRzID0gW11cbiAgY29uc3QgZmluZFVzZXIgPSAobmFtZSkgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAubmFtZSA9PT0gbmFtZSk7XG4gIGl0ZW1zLmZvckVhY2goKHdhciwgaSkgPT4ge1xuICAgICAgd2FyLnBhcnRpY2lwYW50cy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgICAgICAgdmFyIHVzZXJPYmogPSBmaW5kVXNlcih1c2VyLm5hbWUpXG4gICAgICAgICAgaWYgKCEhdXNlck9iaikge1xuICAgICAgICAgICAgICB1c2VyT2JqLmFkZEJhdHRsZXModXNlci5iYXR0bGVzUGxheWVkKVxuICAgICAgICAgICAgICB1c2VyT2JqLmFkZFdpbnModXNlci53aW5zKVxuICAgICAgICAgICAgICB1c2VyT2JqLmFkZENhcmRzKHVzZXIuY2FyZHNFYXJuZWQpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXNlck9iaiA9IG5ldyBXYXJVc2VyKHVzZXIpXG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50cy5wdXNoKHVzZXJPYmopXG4gICAgICAgICAgfVxuICAgICAgfSlcbiAgfSlcbiAgcmV0dXJuIHBhcnRpY2lwYW50c1xufVxuXG5jb25zdCBzb3J0RGF0YSA9IChpdGVtcywga2V5LCBhbHQpID0+IHtcbiAgcmV0dXJuIGl0ZW1zLnNvcnQoKGEsIGIpID0+IGFsdCA/IGFba2V5XSAtIGJba2V5XSA6IGJba2V5XSAtIGFba2V5XSlcbn1cblxuY29uc3QgV2FyUGVyZm9ybWFuY2UgPSAocHJvcHMpID0+IHtcblxuICBjb25zb2xlLmxvZyhwcm9wcylcblxuICBjb25zdCBbc29ydCwgc2V0U29ydF0gPSB1c2VTdGF0ZSgnd2lucycpXG4gIGNvbnN0IFthbHQsIHNldEFsdF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUocHJvY2Vzc0RhdGEocHJvcHMuaXRlbXMpKVxuXG4gIGNvbnN0IHNvcnRlZERhdGEgPSBzb3J0RGF0YShkYXRhLCBzb3J0LCBhbHQpXG5cbiAgY29uc3QgY2xpY2tTb3J0ID0gKG5ld1NvcnQpID0+IHtcbiAgICBpZiAobmV3U29ydCA9PT0gc29ydCkge1xuICAgICAgc2V0QWx0KCFhbHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNvcnQobmV3U29ydClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8dGFibGUgY2xhc3NOYW1lPXsndGFibGUnfT5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0ciBjbGFzc05hbWU9eydoZWFkZXInfT5cbiAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cbiAgICAgICAgICAgIDx0aCBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCd3aW5zJykpfT5XaW5zPC90aD5cbiAgICAgICAgICAgIDx0aCBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCdiYXR0bGVzJykpfT5CYXR0bGVzPC90aD5cbiAgICAgICAgICAgIDx0aCBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCdyYXRpbycpKX0+UmF0aW88L3RoPlxuICAgICAgICAgICAgPHRoIG9uQ2xpY2s9eygoKSA9PiBjbGlja1NvcnQoJ2NhcmRzJykpfT5DYXJkczwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHtzb3J0ZWREYXRhLm1hcCgocCwgaSkgPT4gKFxuICAgICAgICAgICAgPHRyIGtleT17aX0+XG4gICAgICAgICAgICAgIDx0ZD57cC5uYW1lfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57cC53aW5zfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57cC5iYXR0bGVzfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57cC5yYXRpb308L3RkPlxuICAgICAgICAgICAgICA8dGQ+e3AuY2FyZHN9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAudGFibGUge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZSAuaGVhZGVyIHtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUgPiBkaXYge1xuICAgICAgICAgIC8vIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgLy8gZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyMCUgMjAlIDMwJSAzMCU7XG4gICAgICAgICAgLy8gZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxMDB2aDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUgPiBkaXYgc3BhbiB7XG4gICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2FyUGVyZm9ybWFuY2U7XG4iXX0= */\\n/*@ sourceURL=/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js */\"));\n};\n\nexport default WarPerformance;","map":{"version":3,"sources":["/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js"],"names":["useState","WarUser","name","wins","battlesPlayed","cardsEarned","numberOfBattles","battles","totalBattles","cards","processData","items","participants","findUser","find","p","forEach","war","i","user","userObj","addBattles","addWins","addCards","push","sortData","key","alt","sort","a","b","WarPerformance","props","console","log","setSort","setAlt","data","setData","sortedData","clickSort","newSort","map","ratio"],"mappings":"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","sourcesContent":["import { useState } from 'react'\n\nclass WarUser {\n  constructor({name, wins, battlesPlayed, cardsEarned, numberOfBattles}) {\n    this.name = name\n    this.wins = wins\n    this.battles = battlesPlayed\n    this.totalBattles = numberOfBattles\n    this.cards = cardsEarned\n  }\n\n  addCards(cards) {\n    this.cards += cards\n  }\n\n  addWins(wins) {\n    this.wins += wins\n  }\n\n  addBattles(battles) {\n    this.battles +=  battles\n  }\n\n  get ratio() {\n    return this.wins / this.battles || 0\n  }\n}\n\nconst processData = (items) => {\n  let participants = []\n  const findUser = (name) => participants.find((p) => p.name === name);\n  items.forEach((war, i) => {\n      war.participants.forEach((user) => {\n          var userObj = findUser(user.name)\n          if (!!userObj) {\n              userObj.addBattles(user.battlesPlayed)\n              userObj.addWins(user.wins)\n              userObj.addCards(user.cardsEarned)\n          } else {\n              userObj = new WarUser(user)\n              participants.push(userObj)\n          }\n      })\n  })\n  return participants\n}\n\nconst sortData = (items, key, alt) => {\n  return items.sort((a, b) => alt ? a[key] - b[key] : b[key] - a[key])\n}\n\nconst WarPerformance = (props) => {\n\n  console.log(props)\n\n  const [sort, setSort] = useState('wins')\n  const [alt, setAlt] = useState(false)\n  const [data, setData] = useState(processData(props.items))\n\n  const sortedData = sortData(data, sort, alt)\n\n  const clickSort = (newSort) => {\n    if (newSort === sort) {\n      setAlt(!alt)\n    } else {\n      setSort(newSort)\n    }\n  }\n\n  return (\n    <>\n      <table className={'table'}>\n        <thead>\n          <tr className={'header'}>\n            <th>Name</th>\n            <th onClick={(() => clickSort('wins'))}>Wins</th>\n            <th onClick={(() => clickSort('battles'))}>Battles</th>\n            <th onClick={(() => clickSort('ratio'))}>Ratio</th>\n            <th onClick={(() => clickSort('cards'))}>Cards</th>\n          </tr>\n        </thead>\n        <tbody>\n          {sortedData.map((p, i) => (\n            <tr key={i}>\n              <td>{p.name}</td>\n              <td>{p.wins}</td>\n              <td>{p.battles}</td>\n              <td>{p.ratio}</td>\n              <td>{p.cards}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <style jsx>{`\n        .table {\n          width: 100%;\n        }\n        .table .header {\n          font-weight: bold;\n        }\n        .table > div {\n          // display: grid;\n          // grid-template-columns: 20% 20% 30% 30%;\n          // grid-template-rows: 100vh;\n        }\n        .table > div span {\n          flex-grow: 1;\n          text-align: left;\n        }\n        `}\n      </style>\n    </>\n  )\n}\n\nexport default WarPerformance;\n"]},"metadata":{},"sourceType":"module"}