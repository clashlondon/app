{"ast":null,"code":"var _jsxFileName = \"/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\n\nclass WarUser {\n  constructor({\n    name,\n    wins,\n    battlesPlayed,\n    cardsEarned,\n    numberOfBattles\n  }) {\n    this.name = name;\n    this.wins = wins;\n    this.battles = battlesPlayed;\n    this.totalBattles = numberOfBattles;\n    this.cards = cardsEarned;\n  }\n\n  addToKey(key, value) {\n    this[key] += value;\n  }\n\n  get ratio() {\n    return this.wins / this.battles || 0;\n  }\n\n  get battlesMissed() {\n    return this.totalBattles - this.battles;\n  }\n\n}\n\nconst processData = items => {\n  let participants = [];\n\n  const findUser = name => participants.find(p => p.name === name);\n\n  items.forEach((war, i) => {\n    war.participants.forEach(user => {\n      var userObj = findUser(user.name);\n\n      if (!!userObj) {\n        userObj.addToKey('battles', user.battlesPlayed);\n        userObj.addToKey('wins', user.wins);\n        userObj.addToKey('cards', user.cardsEarned);\n        userObj.addToKey('totalBattles', user.numberOfBattles);\n      } else {\n        userObj = new WarUser(user);\n        participants.push(userObj);\n      }\n    });\n  });\n  return participants;\n};\n\nconst sortData = (items, key, alt) => {\n  return items.sort((a, b) => alt ? a[key] - b[key] : b[key] - a[key]);\n};\n\nconst WarPerformance = props => {\n  console.log(props);\n  const {\n    0: sort,\n    1: setSort\n  } = useState('wins');\n  const {\n    0: alt,\n    1: setAlt\n  } = useState(false);\n  const {\n    0: data,\n    1: setData\n  } = useState(processData(props.items));\n  const sortedData = sortData(data, sort, alt);\n\n  const clickSort = newSort => {\n    if (newSort === sort) {\n      setAlt(!alt);\n    } else {\n      setSort(newSort);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"table\", {\n    className: \"jsx-1777624385\" + \" \" + 'table table-sm',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    className: \"jsx-1777624385\" + \" \" + 'header',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Name\"), __jsx(\"th\", {\n    onClick: () => clickSort('cards'),\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Total Battles\"), __jsx(\"th\", {\n    onClick: () => clickSort('battles'),\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Battles Played\"), __jsx(\"th\", {\n    onClick: () => clickSort('wins'),\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Wins\"), __jsx(\"th\", {\n    onClick: () => clickSort('battlesMissed'),\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Battles Missed\"), __jsx(\"th\", {\n    onClick: () => clickSort('ratio'),\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Ratio\"), __jsx(\"th\", {\n    onClick: () => clickSort('cards'),\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Cards\"))), __jsx(\"tbody\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, sortedData.map((p, i) => __jsx(\"tr\", {\n    key: i,\n    className: \"jsx-1777624385\" + \" \" + '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(\"td\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, p.name), __jsx(\"td\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, p.totalBattles), __jsx(\"td\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, p.battles), __jsx(\"td\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, p.wins), __jsx(\"td\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, p.battlesMissed), __jsx(\"td\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, p.ratio), __jsx(\"td\", {\n    className: \"jsx-1777624385\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, p.cards))))), __jsx(_JSXStyle, {\n    id: \"1777624385\",\n    __self: this\n  }, \".table.jsx-1777624385{width:100%;}.table.jsx-1777624385 .header.jsx-1777624385{font-weight:bold;}.table.jsx-1777624385>div.jsx-1777624385 span.jsx-1777624385{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;text-align:left;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStGa0IsQUFHc0IsQUFHTSxBQVFMLFdBVmQsTUFHQSxzREFRa0IsZ0JBQ2xCIiwiZmlsZSI6Ii9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuY2xhc3MgV2FyVXNlciB7XG4gIGNvbnN0cnVjdG9yKHtuYW1lLCB3aW5zLCBiYXR0bGVzUGxheWVkLCBjYXJkc0Vhcm5lZCwgbnVtYmVyT2ZCYXR0bGVzfSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLndpbnMgPSB3aW5zXG4gICAgdGhpcy5iYXR0bGVzID0gYmF0dGxlc1BsYXllZFxuICAgIHRoaXMudG90YWxCYXR0bGVzID0gbnVtYmVyT2ZCYXR0bGVzXG4gICAgdGhpcy5jYXJkcyA9IGNhcmRzRWFybmVkXG4gIH1cblxuICBhZGRUb0tleShrZXksIHZhbHVlKSB7XG4gICAgdGhpc1trZXldICs9IHZhbHVlXG4gIH1cblxuICBnZXQgcmF0aW8oKSB7XG4gICAgcmV0dXJuIHRoaXMud2lucyAvIHRoaXMuYmF0dGxlcyB8fCAwXG4gIH1cblxuICBnZXQgYmF0dGxlc01pc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy50b3RhbEJhdHRsZXMgLSB0aGlzLmJhdHRsZXNcbiAgfVxufVxuXG5jb25zdCBwcm9jZXNzRGF0YSA9IChpdGVtcykgPT4ge1xuICBsZXQgcGFydGljaXBhbnRzID0gW11cbiAgY29uc3QgZmluZFVzZXIgPSAobmFtZSkgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAubmFtZSA9PT0gbmFtZSk7XG4gIGl0ZW1zLmZvckVhY2goKHdhciwgaSkgPT4ge1xuICAgICAgd2FyLnBhcnRpY2lwYW50cy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgICAgICAgdmFyIHVzZXJPYmogPSBmaW5kVXNlcih1c2VyLm5hbWUpXG4gICAgICAgICAgaWYgKCEhdXNlck9iaikge1xuICAgICAgICAgICAgICB1c2VyT2JqLmFkZFRvS2V5KCdiYXR0bGVzJywgdXNlci5iYXR0bGVzUGxheWVkKVxuICAgICAgICAgICAgICB1c2VyT2JqLmFkZFRvS2V5KCd3aW5zJywgdXNlci53aW5zKVxuICAgICAgICAgICAgICB1c2VyT2JqLmFkZFRvS2V5KCdjYXJkcycsIHVzZXIuY2FyZHNFYXJuZWQpXG4gICAgICAgICAgICAgIHVzZXJPYmouYWRkVG9LZXkoJ3RvdGFsQmF0dGxlcycsIHVzZXIubnVtYmVyT2ZCYXR0bGVzKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVzZXJPYmogPSBuZXcgV2FyVXNlcih1c2VyKVxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHMucHVzaCh1c2VyT2JqKVxuICAgICAgICAgIH1cbiAgICAgIH0pXG4gIH0pXG4gIHJldHVybiBwYXJ0aWNpcGFudHNcbn1cblxuY29uc3Qgc29ydERhdGEgPSAoaXRlbXMsIGtleSwgYWx0KSA9PiB7XG4gIHJldHVybiBpdGVtcy5zb3J0KChhLCBiKSA9PiBhbHQgPyBhW2tleV0gLSBiW2tleV0gOiBiW2tleV0gLSBhW2tleV0pXG59XG5cbmNvbnN0IFdhclBlcmZvcm1hbmNlID0gKHByb3BzKSA9PiB7XG5cbiAgY29uc29sZS5sb2cocHJvcHMpXG5cbiAgY29uc3QgW3NvcnQsIHNldFNvcnRdID0gdXNlU3RhdGUoJ3dpbnMnKVxuICBjb25zdCBbYWx0LCBzZXRBbHRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKHByb2Nlc3NEYXRhKHByb3BzLml0ZW1zKSlcblxuICBjb25zdCBzb3J0ZWREYXRhID0gc29ydERhdGEoZGF0YSwgc29ydCwgYWx0KVxuXG4gIGNvbnN0IGNsaWNrU29ydCA9IChuZXdTb3J0KSA9PiB7XG4gICAgaWYgKG5ld1NvcnQgPT09IHNvcnQpIHtcbiAgICAgIHNldEFsdCghYWx0KVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTb3J0KG5ld1NvcnQpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPHRhYmxlIGNsYXNzTmFtZT17J3RhYmxlIHRhYmxlLXNtJ30+XG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICA8dHIgY2xhc3NOYW1lPXsnaGVhZGVyJ30+XG4gICAgICAgICAgICA8dGg+TmFtZTwvdGg+XG4gICAgICAgICAgICA8dGggb25DbGljaz17KCgpID0+IGNsaWNrU29ydCgnY2FyZHMnKSl9PlRvdGFsIEJhdHRsZXM8L3RoPlxuICAgICAgICAgICAgPHRoIG9uQ2xpY2s9eygoKSA9PiBjbGlja1NvcnQoJ2JhdHRsZXMnKSl9PkJhdHRsZXMgUGxheWVkPC90aD5cbiAgICAgICAgICAgIDx0aCBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCd3aW5zJykpfT5XaW5zPC90aD5cbiAgICAgICAgICAgIDx0aCBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCdiYXR0bGVzTWlzc2VkJykpfT5CYXR0bGVzIE1pc3NlZDwvdGg+XG4gICAgICAgICAgICA8dGggb25DbGljaz17KCgpID0+IGNsaWNrU29ydCgncmF0aW8nKSl9PlJhdGlvPC90aD5cbiAgICAgICAgICAgIDx0aCBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCdjYXJkcycpKX0+Q2FyZHM8L3RoPlxuXG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHtzb3J0ZWREYXRhLm1hcCgocCwgaSkgPT4gKFxuICAgICAgICAgICAgPHRyIGtleT17aX0gY2xhc3NOYW1lPXsnJ30+XG4gICAgICAgICAgICAgIDx0ZD57cC5uYW1lfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57cC50b3RhbEJhdHRsZXN9PC90ZD5cbiAgICAgICAgICAgICAgPHRkPntwLmJhdHRsZXN9PC90ZD5cbiAgICAgICAgICAgICAgPHRkPntwLndpbnN9PC90ZD5cbiAgICAgICAgICAgICAgPHRkPntwLmJhdHRsZXNNaXNzZWR9PC90ZD5cbiAgICAgICAgICAgICAgPHRkPntwLnJhdGlvfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57cC5jYXJkc308L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC50YWJsZSB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlIC5oZWFkZXIge1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZSA+IGRpdiB7XG4gICAgICAgICAgLy8gZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICAvLyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDIwJSAyMCUgMzAlIDMwJTtcbiAgICAgICAgICAvLyBncmlkLXRlbXBsYXRlLXJvd3M6IDEwMHZoO1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZSA+IGRpdiBzcGFuIHtcbiAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBXYXJQZXJmb3JtYW5jZTtcbiJdfQ== */\\n/*@ sourceURL=/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js */\"));\n};\n\nexport default WarPerformance;","map":{"version":3,"sources":["/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js"],"names":["useState","WarUser","constructor","name","wins","battlesPlayed","cardsEarned","numberOfBattles","battles","totalBattles","cards","addToKey","key","value","ratio","battlesMissed","processData","items","participants","findUser","find","p","forEach","war","i","user","userObj","push","sortData","alt","sort","a","b","WarPerformance","props","console","log","setSort","setAlt","data","setData","sortedData","clickSort","newSort","map"],"mappings":"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","sourcesContent":["import { useState } from 'react'\n\nclass WarUser {\n  constructor({name, wins, battlesPlayed, cardsEarned, numberOfBattles}) {\n    this.name = name\n    this.wins = wins\n    this.battles = battlesPlayed\n    this.totalBattles = numberOfBattles\n    this.cards = cardsEarned\n  }\n\n  addToKey(key, value) {\n    this[key] += value\n  }\n\n  get ratio() {\n    return this.wins / this.battles || 0\n  }\n\n  get battlesMissed() {\n    return this.totalBattles - this.battles\n  }\n}\n\nconst processData = (items) => {\n  let participants = []\n  const findUser = (name) => participants.find((p) => p.name === name);\n  items.forEach((war, i) => {\n      war.participants.forEach((user) => {\n          var userObj = findUser(user.name)\n          if (!!userObj) {\n              userObj.addToKey('battles', user.battlesPlayed)\n              userObj.addToKey('wins', user.wins)\n              userObj.addToKey('cards', user.cardsEarned)\n              userObj.addToKey('totalBattles', user.numberOfBattles)\n          } else {\n              userObj = new WarUser(user)\n              participants.push(userObj)\n          }\n      })\n  })\n  return participants\n}\n\nconst sortData = (items, key, alt) => {\n  return items.sort((a, b) => alt ? a[key] - b[key] : b[key] - a[key])\n}\n\nconst WarPerformance = (props) => {\n\n  console.log(props)\n\n  const [sort, setSort] = useState('wins')\n  const [alt, setAlt] = useState(false)\n  const [data, setData] = useState(processData(props.items))\n\n  const sortedData = sortData(data, sort, alt)\n\n  const clickSort = (newSort) => {\n    if (newSort === sort) {\n      setAlt(!alt)\n    } else {\n      setSort(newSort)\n    }\n  }\n\n  return (\n    <>\n      <table className={'table table-sm'}>\n        <thead>\n          <tr className={'header'}>\n            <th>Name</th>\n            <th onClick={(() => clickSort('cards'))}>Total Battles</th>\n            <th onClick={(() => clickSort('battles'))}>Battles Played</th>\n            <th onClick={(() => clickSort('wins'))}>Wins</th>\n            <th onClick={(() => clickSort('battlesMissed'))}>Battles Missed</th>\n            <th onClick={(() => clickSort('ratio'))}>Ratio</th>\n            <th onClick={(() => clickSort('cards'))}>Cards</th>\n\n          </tr>\n        </thead>\n        <tbody>\n          {sortedData.map((p, i) => (\n            <tr key={i} className={''}>\n              <td>{p.name}</td>\n              <td>{p.totalBattles}</td>\n              <td>{p.battles}</td>\n              <td>{p.wins}</td>\n              <td>{p.battlesMissed}</td>\n              <td>{p.ratio}</td>\n              <td>{p.cards}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <style jsx>{`\n        .table {\n          width: 100%;\n        }\n        .table .header {\n          font-weight: bold;\n        }\n        .table > div {\n          // display: grid;\n          // grid-template-columns: 20% 20% 30% 30%;\n          // grid-template-rows: 100vh;\n        }\n        .table > div span {\n          flex-grow: 1;\n          text-align: left;\n        }\n        `}\n      </style>\n    </>\n  )\n}\n\nexport default WarPerformance;\n"]},"metadata":{},"sourceType":"module"}