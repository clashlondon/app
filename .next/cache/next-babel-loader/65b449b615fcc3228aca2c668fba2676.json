{"ast":null,"code":"var _jsxFileName = \"/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nconst processData = items => {\n  let participants = [];\n\n  const findUser = name => participants.find(p => p.name === name);\n\n  items.forEach((war, i) => {\n    console.log(`war ${i}`, war);\n    war.participants.forEach(({\n      name,\n      battlesPlayed,\n      wins\n    }) => {\n      var userObj = findUser(name);\n\n      if (!!userObj) {\n        userObj.battlesPlayed += battlesPlayed;\n        userObj.wins += wins;\n      } else {\n        userObj = {\n          name,\n          battlesPlayed,\n          wins\n        };\n        participants.push(userObj);\n      }\n    });\n  });\n  return participants.sort((a, b) => b[\"wins\"] - a[\"wins\"] || b[\"battlesPlayed\"] - a[\"battlesPlayed\"]);\n};\n\nconst WarPerformance = props => {\n  const data = processData(props.items);\n  console.log(data);\n  return __jsx(\"div\", {\n    className: \"jsx-1512414251\" + \" \" + 'table',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, data.map((p, i) => __jsx(\"div\", {\n    key: i,\n    className: \"jsx-1512414251\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    className: \"jsx-1512414251\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, p.name), __jsx(\"span\", {\n    className: \"jsx-1512414251\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, p.wins), __jsx(\"span\", {\n    className: \"jsx-1512414251\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, p.battlesPlayed), __jsx(\"span\", {\n    className: \"jsx-1512414251\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Ratio: \", p.wins / p.battlesPlayed))), __jsx(_JSXStyle, {\n    id: \"1512414251\",\n    __self: this\n  }, \".table.jsx-1512414251{width:100%;}.table.jsx-1512414251>div.jsx-1512414251{display:grid;grid-template-columns:40% 30% 30%;}.table.jsx-1512414251>div.jsx-1512414251 span.jsx-1512414251{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;text-align:left;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtDa0IsQUFHc0IsQUFHRSxBQUtELFdBUGQsRUFHb0Msa0NBRXBDLHdCQUdrQixnQkFDbEIiLCJmaWxlIjoiL1VzZXJzL21icC9TaXRlcy9sb25kb24tY2xhc2gtbmV4dGpzL2NvbXBvbmVudHMvV2FyUGVyZm9ybWFuY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwcm9jZXNzRGF0YSA9IChpdGVtcykgPT4ge1xuICBsZXQgcGFydGljaXBhbnRzID0gW11cbiAgY29uc3QgZmluZFVzZXIgPSAobmFtZSkgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAubmFtZSA9PT0gbmFtZSk7XG4gIGl0ZW1zLmZvckVhY2goKHdhciwgaSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYHdhciAke2l9YCwgd2FyKTtcbiAgICAgIHdhci5wYXJ0aWNpcGFudHMuZm9yRWFjaCgoe25hbWUsIGJhdHRsZXNQbGF5ZWQsIHdpbnN9KSA9PiB7XG4gICAgICAgICAgdmFyIHVzZXJPYmogPSBmaW5kVXNlcihuYW1lKVxuICAgICAgICAgIGlmICghIXVzZXJPYmopIHtcbiAgICAgICAgICAgICAgdXNlck9iai5iYXR0bGVzUGxheWVkICs9IGJhdHRsZXNQbGF5ZWRcbiAgICAgICAgICAgICAgdXNlck9iai53aW5zICs9IHdpbnNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1c2VyT2JqID0ge25hbWUsIGJhdHRsZXNQbGF5ZWQsIHdpbnN9XG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50cy5wdXNoKHVzZXJPYmopXG4gICAgICAgICAgfVxuICAgICAgfSlcbiAgfSlcblxuICByZXR1cm4gcGFydGljaXBhbnRzLnNvcnQoKGEsIGIpID0+IGJbXCJ3aW5zXCJdIC0gYVtcIndpbnNcIl0gfHwgYltcImJhdHRsZXNQbGF5ZWRcIl0gLSBhW1wiYmF0dGxlc1BsYXllZFwiXSlcbn1cblxuY29uc3QgV2FyUGVyZm9ybWFuY2UgPSAocHJvcHMpID0+IHtcblxuICBjb25zdCBkYXRhID0gcHJvY2Vzc0RhdGEocHJvcHMuaXRlbXMpXG4gIGNvbnNvbGUubG9nKGRhdGEpXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9eyd0YWJsZSd9PlxuICAgICAge2RhdGEubWFwKChwLCBpKSA9PiAoXG4gICAgICAgIDxkaXYga2V5PXtpfT5cbiAgICAgICAgICA8c3Bhbj57cC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj57cC53aW5zfTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj57cC5iYXR0bGVzUGxheWVkfTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5SYXRpbzoge3Aud2lucyAvIHAuYmF0dGxlc1BsYXllZH08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC50YWJsZSB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlID4gZGl2IHtcbiAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogNDAlIDMwJSAzMCU7XG4gICAgICAgICAgLy8gZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxMDB2aDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUgPiBkaXYgc3BhbiB7XG4gICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBXYXJQZXJmb3JtYW5jZTtcbiJdfQ== */\\n/*@ sourceURL=/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js */\"));\n};\n\nexport default WarPerformance;","map":{"version":3,"sources":["/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js"],"names":["processData","items","participants","findUser","name","find","p","forEach","war","i","console","log","battlesPlayed","wins","userObj","push","sort","a","b","WarPerformance","props","data","map"],"mappings":";;;;;AAAA,MAAMA,WAAW,GAAIC,KAAD,IAAW;AAC7B,MAAIC,YAAY,GAAG,EAAnB;;AACA,QAAMC,QAAQ,GAAIC,IAAD,IAAUF,YAAY,CAACG,IAAb,CAAmBC,CAAD,IAAOA,CAAC,CAACF,IAAF,KAAWA,IAApC,CAA3B;;AACAH,EAAAA,KAAK,CAACM,OAAN,CAAc,CAACC,GAAD,EAAMC,CAAN,KAAY;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAa,OAAMF,CAAE,EAArB,EAAwBD,GAAxB;AACAA,IAAAA,GAAG,CAACN,YAAJ,CAAiBK,OAAjB,CAAyB,CAAC;AAACH,MAAAA,IAAD;AAAOQ,MAAAA,aAAP;AAAsBC,MAAAA;AAAtB,KAAD,KAAiC;AACtD,UAAIC,OAAO,GAAGX,QAAQ,CAACC,IAAD,CAAtB;;AACA,UAAI,CAAC,CAACU,OAAN,EAAe;AACXA,QAAAA,OAAO,CAACF,aAAR,IAAyBA,aAAzB;AACAE,QAAAA,OAAO,CAACD,IAAR,IAAgBA,IAAhB;AACH,OAHD,MAGO;AACHC,QAAAA,OAAO,GAAG;AAACV,UAAAA,IAAD;AAAOQ,UAAAA,aAAP;AAAsBC,UAAAA;AAAtB,SAAV;AACAX,QAAAA,YAAY,CAACa,IAAb,CAAkBD,OAAlB;AACH;AACJ,KATD;AAUH,GAZD;AAcA,SAAOZ,YAAY,CAACc,IAAb,CAAkB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAAC,MAAD,CAAD,GAAYD,CAAC,CAAC,MAAD,CAAb,IAAyBC,CAAC,CAAC,eAAD,CAAD,GAAqBD,CAAC,CAAC,eAAD,CAA3E,CAAP;AACD,CAlBD;;AAoBA,MAAME,cAAc,GAAIC,KAAD,IAAW;AAEhC,QAAMC,IAAI,GAAGrB,WAAW,CAACoB,KAAK,CAACnB,KAAP,CAAxB;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACA,SACE;AAAA,wCAAgB,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,IAAI,CAACC,GAAL,CAAS,CAAChB,CAAD,EAAIG,CAAJ,KACR;AAAK,IAAA,GAAG,EAAEA,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOH,CAAC,CAACF,IAAT,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOE,CAAC,CAACO,IAAT,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOP,CAAC,CAACM,aAAT,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAcN,CAAC,CAACO,IAAF,GAASP,CAAC,CAACM,aAAzB,CAJF,CADD,CADH;AAAA;AAAA;AAAA,8rFADF;AA0BD,CA9BD;;AAgCA,eAAeO,cAAf","sourcesContent":["const processData = (items) => {\n  let participants = []\n  const findUser = (name) => participants.find((p) => p.name === name);\n  items.forEach((war, i) => {\n      console.log(`war ${i}`, war);\n      war.participants.forEach(({name, battlesPlayed, wins}) => {\n          var userObj = findUser(name)\n          if (!!userObj) {\n              userObj.battlesPlayed += battlesPlayed\n              userObj.wins += wins\n          } else {\n              userObj = {name, battlesPlayed, wins}\n              participants.push(userObj)\n          }\n      })\n  })\n\n  return participants.sort((a, b) => b[\"wins\"] - a[\"wins\"] || b[\"battlesPlayed\"] - a[\"battlesPlayed\"])\n}\n\nconst WarPerformance = (props) => {\n\n  const data = processData(props.items)\n  console.log(data)\n  return (\n    <div className={'table'}>\n      {data.map((p, i) => (\n        <div key={i}>\n          <span>{p.name}</span>\n          <span>{p.wins}</span>\n          <span>{p.battlesPlayed}</span>\n          <span>Ratio: {p.wins / p.battlesPlayed}</span>\n        </div>\n      ))}\n      <style jsx>{`\n        .table {\n          width: 100%;\n        }\n        .table > div {\n          display: grid;\n          grid-template-columns: 40% 30% 30%;\n          // grid-template-rows: 100vh;\n        }\n        .table > div span {\n          flex-grow: 1;\n          text-align: left;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default WarPerformance;\n"]},"metadata":{},"sourceType":"module"}