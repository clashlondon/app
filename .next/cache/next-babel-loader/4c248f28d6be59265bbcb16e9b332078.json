{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nvar _jsxFileName = \"/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\n\nvar WarUser =\n/*#__PURE__*/\nfunction () {\n  function WarUser(_ref) {\n    var name = _ref.name,\n        wins = _ref.wins,\n        battlesPlayed = _ref.battlesPlayed,\n        cardsEarned = _ref.cardsEarned,\n        numberOfBattles = _ref.numberOfBattles;\n\n    _classCallCheck(this, WarUser);\n\n    this.name = name;\n    this.wins = wins;\n    this.battles = battlesPlayed;\n    this.totalBattles = numberOfBattles;\n    this.cards = cardsEarned;\n    this.isMember = true;\n    this.lossStreak = 0;\n    this.winStreak = 0;\n  }\n\n  _createClass(WarUser, [{\n    key: \"addToKey\",\n    value: function addToKey(key, value) {\n      this[key] += value;\n    }\n  }, {\n    key: \"setMember\",\n    value: function setMember(state) {\n      this.isMember = state;\n    }\n  }, {\n    key: \"winLoss\",\n    value: function winLoss(wins, losses) {\n      if (losses > 0 && wins === 0) {\n        this.lossStreak += losses;\n        this.winStreak = 0;\n      }\n\n      if (wins > 0) {\n        this.winStreak += wins;\n        this.lossStreak = 0;\n      } // this.lossStreak = losses > 0 ? this.lossStreak + losses : this.winStreak++\n\n    }\n  }, {\n    key: \"loss\",\n    get: function get() {\n      return this.battles - this.wins;\n    }\n  }, {\n    key: \"ratio\",\n    get: function get() {\n      return this.wins / this.totalBattles;\n    }\n  }, {\n    key: \"battlesMissed\",\n    get: function get() {\n      return this.totalBattles - this.battles;\n    }\n  }, {\n    key: \"inRespect\",\n    get: function get() {\n      return this.ratio >= 0.75 || this.loss === 0 && this.missed === 0;\n    }\n  }, {\n    key: \"inDanger\",\n    get: function get() {\n      return this.ratio <= 0.25 || this.battlesMissed >= 3;\n    }\n  }, {\n    key: \"score\",\n    get: function get() {\n      if (this.battles === 0) return 0;\n      return (this.wins * (this.wins / this.battles) - this.battlesMissed * 2.5 * this.battlesMissed + this.wins * 0.5).toFixed(2);\n    }\n  }]);\n\n  return WarUser;\n}();\n\nvar processData = function processData(items, clan) {\n  var participants = [];\n\n  var findUser = function findUser(name) {\n    return participants.find(function (p) {\n      return p.name === name;\n    });\n  };\n\n  items.forEach(function (war, i) {\n    war.participants.forEach(function (user) {\n      var userObj = findUser(user.name);\n\n      if (!!userObj) {\n        userObj.addToKey('battles', user.battlesPlayed);\n        userObj.addToKey('wins', user.wins);\n        userObj.addToKey('cards', user.cardsEarned);\n        userObj.addToKey('totalBattles', user.numberOfBattles);\n      } else {\n        userObj = new WarUser(user);\n        participants.push(userObj);\n      }\n\n      userObj.setMember(clan.memberList.find(function (m) {\n        return m.name === userObj.name;\n      }));\n      var losses = user.numberOfBattles - user.wins;\n      userObj.winLoss(user.wins, losses);\n\n      if (user.name === 'asianface') {\n        console.log(war, user, user.wins, losses);\n      }\n    });\n  });\n  return participants;\n};\n\nvar sortData = function sortData(items, key, alt) {\n  return items.sort(function (a, b) {\n    return alt ? a[key] - b[key] : b[key] - a[key];\n  });\n};\n\nvar WarPerformance = function WarPerformance(props) {\n  console.log(props.items);\n\n  var _useState = useState('score'),\n      sort = _useState[0],\n      setSort = _useState[1];\n\n  var _useState2 = useState(false),\n      alt = _useState2[0],\n      setAlt = _useState2[1];\n\n  var _useState3 = useState(processData(props.items, props.clan)),\n      data = _useState3[0],\n      setData = _useState3[1];\n\n  var sortedData = sortData(data, sort, alt);\n\n  var clickSort = function clickSort(newSort) {\n    if (newSort === sort) {\n      setAlt(!alt);\n    } else {\n      setSort(newSort);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-1736245729\" + \" \" + \"table-responsive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(\"table\", {\n    className: \"jsx-1736245729\" + \" \" + 'table table-sm',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    className: \"jsx-1736245729\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    className: \"jsx-1736245729\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    className: \"jsx-1736245729\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Name\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('score');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'score' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Score\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('totalBattles');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'totalBattles' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Total Battles\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('wins');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'wins' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Wins\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('winStreak');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'winStreak' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Win Streak\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('loss');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'loss' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Losses\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('lossStreak');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'lossStreak' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Loss Streak\"), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('ratio');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'ratio' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Win Ratio\", __jsx(\"span\", {\n    className: \"jsx-1736245729\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"wins/battles\")), __jsx(\"th\", {\n    onClick: function onClick() {\n      return clickSort('battlesMissed');\n    },\n    className: \"jsx-1736245729\" + \" \" + ((sort === 'battlesMissed' ? 'active' : null) || \"\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Battles Missed\"))), __jsx(\"tbody\", {\n    className: \"jsx-1736245729\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, sortedData.map(function (p, i) {\n    var className = p.score < -1 ? 'bg-danger' : p.score <= 1 ? 'table-danger' : p.score >= 8 ? 'table-warning' : 'table-success';\n    className += p.isMember ? ' member' : '';\n    return __jsx(\"tr\", {\n      key: i,\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      className: \"jsx-1736245729\" + \" \" + (className || \"\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, p.name), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, p.score), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, p.totalBattles), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, p.wins), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, p.winStreak), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, p.loss), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, p.lossStreak), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, p.ratio.toFixed(2)), __jsx(\"td\", {\n      className: \"jsx-1736245729\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, p.battlesMissed));\n  })))), __jsx(_JSXStyle, {\n    id: \"1736245729\",\n    __self: this\n  }, \".table-responsive.jsx-1736245729{overflow-x:initial;}.table.jsx-1736245729{width:100%;}.table.jsx-1736245729 thead.jsx-1736245729{font-weight:bold;}.table.jsx-1736245729 thead.jsx-1736245729 th.jsx-1736245729{cursor:pointer;position:-webkit-sticky;position:sticky;top:0;background:white;min-width:8rem;}.table.jsx-1736245729 thead.jsx-1736245729 th.jsx-1736245729 span.jsx-1736245729{display:block;font-size:0.5rem;}.table.jsx-1736245729 thead.jsx-1736245729 th.active.jsx-1736245729{color:blue;}table.jsx-1736245729 tbody.jsx-1736245729 td.jsx-1736245729:first-child.jsx-1736245729:not(.member){-webkit-text-decoration:line-through;text-decoration:line-through;font-weight:bold;background-color:grey !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdKa0IsQUFHOEIsQUFHUixBQUdNLEFBR0YsQUFPRCxBQUlILEFBR2tCLFdBbkIvQixBQWlCQSxHQUptQixDQVBELEVBSGxCLEVBTkEsWUFpQkEsd0JBUFEsTUFDVyxLQVlBLFlBWEYsS0FZa0IsVUFYbkMsdUJBWUEiLCJmaWxlIjoiL1VzZXJzL21icC9TaXRlcy9sb25kb24tY2xhc2gtbmV4dGpzL2NvbXBvbmVudHMvV2FyUGVyZm9ybWFuY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5jbGFzcyBXYXJVc2VyIHtcbiAgY29uc3RydWN0b3Ioe25hbWUsIHdpbnMsIGJhdHRsZXNQbGF5ZWQsIGNhcmRzRWFybmVkLCBudW1iZXJPZkJhdHRsZXN9KSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHRoaXMud2lucyA9IHdpbnNcbiAgICB0aGlzLmJhdHRsZXMgPSBiYXR0bGVzUGxheWVkXG4gICAgdGhpcy50b3RhbEJhdHRsZXMgPSBudW1iZXJPZkJhdHRsZXNcbiAgICB0aGlzLmNhcmRzID0gY2FyZHNFYXJuZWRcbiAgICB0aGlzLmlzTWVtYmVyID0gdHJ1ZVxuICAgIHRoaXMubG9zc1N0cmVhayA9IDBcbiAgICB0aGlzLndpblN0cmVhayA9IDBcbiAgfVxuXG4gIGFkZFRvS2V5KGtleSwgdmFsdWUpIHtcbiAgICB0aGlzW2tleV0gKz0gdmFsdWVcbiAgfVxuXG4gIHNldE1lbWJlcihzdGF0ZSkge1xuICAgIHRoaXMuaXNNZW1iZXIgPSBzdGF0ZVxuICB9XG5cbiAgd2luTG9zcyh3aW5zLCBsb3NzZXMpIHtcbiAgICBpZiAobG9zc2VzID4gMCAmJiB3aW5zID09PSAwKSB7XG4gICAgICB0aGlzLmxvc3NTdHJlYWsgKz0gbG9zc2VzXG4gICAgICB0aGlzLndpblN0cmVhayA9IDBcbiAgICB9XG4gICAgaWYgKHdpbnMgPiAwKSB7XG4gICAgICB0aGlzLndpblN0cmVhayArPSB3aW5zXG4gICAgICB0aGlzLmxvc3NTdHJlYWsgPSAwXG4gICAgfVxuICAgIC8vIHRoaXMubG9zc1N0cmVhayA9IGxvc3NlcyA+IDAgPyB0aGlzLmxvc3NTdHJlYWsgKyBsb3NzZXMgOiB0aGlzLndpblN0cmVhaysrXG4gIH1cblxuICBnZXQgbG9zcygpIHtcbiAgICByZXR1cm4gdGhpcy5iYXR0bGVzIC0gdGhpcy53aW5zXG4gIH1cblxuICBnZXQgcmF0aW8oKSB7XG4gICAgcmV0dXJuIHRoaXMud2lucyAvIHRoaXMudG90YWxCYXR0bGVzXG4gIH1cblxuICBnZXQgYmF0dGxlc01pc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy50b3RhbEJhdHRsZXMgLSB0aGlzLmJhdHRsZXNcbiAgfVxuXG4gIGdldCBpblJlc3BlY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMucmF0aW8gPj0gMC43NSB8fCB0aGlzLmxvc3MgPT09IDAgJiYgdGhpcy5taXNzZWQgPT09IDBcbiAgfVxuXG4gIGdldCBpbkRhbmdlcigpIHtcbiAgICByZXR1cm4gdGhpcy5yYXRpbyA8PSAwLjI1IHx8IHRoaXMuYmF0dGxlc01pc3NlZCA+PSAzXG4gIH1cblxuICBnZXQgc2NvcmUoKSB7XG4gICAgaWYgKHRoaXMuYmF0dGxlcyA9PT0gMCkgcmV0dXJuIDBcbiAgICByZXR1cm4gKHRoaXMud2lucyAqICh0aGlzLndpbnMgLyB0aGlzLmJhdHRsZXMpIC0gKCh0aGlzLmJhdHRsZXNNaXNzZWQgKiAyLjUpICogdGhpcy5iYXR0bGVzTWlzc2VkKSArICh0aGlzLndpbnMgKiAwLjUpKS50b0ZpeGVkKDIpXG4gIH1cbn1cblxuY29uc3QgcHJvY2Vzc0RhdGEgPSAoaXRlbXMsIGNsYW4pID0+IHtcbiAgbGV0IHBhcnRpY2lwYW50cyA9IFtdXG4gIGNvbnN0IGZpbmRVc2VyID0gKG5hbWUpID0+IHBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLm5hbWUgPT09IG5hbWUpO1xuICBpdGVtcy5mb3JFYWNoKCh3YXIsIGkpID0+IHtcbiAgICAgIHdhci5wYXJ0aWNpcGFudHMuZm9yRWFjaCgodXNlcikgPT4ge1xuICAgICAgICAgIHZhciB1c2VyT2JqID0gZmluZFVzZXIodXNlci5uYW1lKVxuICAgICAgICAgIGlmICghIXVzZXJPYmopIHtcbiAgICAgICAgICAgICAgdXNlck9iai5hZGRUb0tleSgnYmF0dGxlcycsIHVzZXIuYmF0dGxlc1BsYXllZClcbiAgICAgICAgICAgICAgdXNlck9iai5hZGRUb0tleSgnd2lucycsIHVzZXIud2lucylcbiAgICAgICAgICAgICAgdXNlck9iai5hZGRUb0tleSgnY2FyZHMnLCB1c2VyLmNhcmRzRWFybmVkKVxuICAgICAgICAgICAgICB1c2VyT2JqLmFkZFRvS2V5KCd0b3RhbEJhdHRsZXMnLCB1c2VyLm51bWJlck9mQmF0dGxlcylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1c2VyT2JqID0gbmV3IFdhclVzZXIodXNlcilcbiAgICAgICAgICAgICAgcGFydGljaXBhbnRzLnB1c2godXNlck9iailcbiAgICAgICAgICB9XG4gICAgICAgICAgdXNlck9iai5zZXRNZW1iZXIoY2xhbi5tZW1iZXJMaXN0LmZpbmQobSA9PiBtLm5hbWUgPT09IHVzZXJPYmoubmFtZSkpXG4gICAgICAgICAgbGV0IGxvc3NlcyA9IHVzZXIubnVtYmVyT2ZCYXR0bGVzIC0gdXNlci53aW5zXG4gICAgICAgICAgdXNlck9iai53aW5Mb3NzKHVzZXIud2lucywgbG9zc2VzKVxuICAgICAgICAgIGlmICh1c2VyLm5hbWUgPT09ICdhc2lhbmZhY2UnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh3YXIsIHVzZXIsIHVzZXIud2lucywgbG9zc2VzKVxuICAgICAgICAgIH1cbiAgICAgIH0pXG4gIH0pXG4gIHJldHVybiBwYXJ0aWNpcGFudHNcbn1cblxuY29uc3Qgc29ydERhdGEgPSAoaXRlbXMsIGtleSwgYWx0KSA9PiB7XG4gIHJldHVybiBpdGVtcy5zb3J0KChhLCBiKSA9PiBhbHQgPyBhW2tleV0gLSBiW2tleV0gOiBiW2tleV0gLSBhW2tleV0pXG59XG5cbmNvbnN0IFdhclBlcmZvcm1hbmNlID0gKHByb3BzKSA9PiB7XG4gIGNvbnNvbGUubG9nKHByb3BzLml0ZW1zKVxuICBjb25zdCBbc29ydCwgc2V0U29ydF0gPSB1c2VTdGF0ZSgnc2NvcmUnKVxuICBjb25zdCBbYWx0LCBzZXRBbHRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKHByb2Nlc3NEYXRhKHByb3BzLml0ZW1zLCBwcm9wcy5jbGFuKSlcblxuICBjb25zdCBzb3J0ZWREYXRhID0gc29ydERhdGEoZGF0YSwgc29ydCwgYWx0KVxuXG4gIGNvbnN0IGNsaWNrU29ydCA9IChuZXdTb3J0KSA9PiB7XG4gICAgaWYgKG5ld1NvcnQgPT09IHNvcnQpIHtcbiAgICAgIHNldEFsdCghYWx0KVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTb3J0KG5ld1NvcnQpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZS1yZXNwb25zaXZlXCI+XG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9eyd0YWJsZSB0YWJsZS1zbSd9PlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPXtzb3J0ID09PSAnc2NvcmUnID8gJ2FjdGl2ZScgOiBudWxsfSBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCdzY29yZScpKX0+U2NvcmU8L3RoPlxuICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPXtzb3J0ID09PSAndG90YWxCYXR0bGVzJyA/ICdhY3RpdmUnIDogbnVsbH0gb25DbGljaz17KCgpID0+IGNsaWNrU29ydCgndG90YWxCYXR0bGVzJykpfT5Ub3RhbCBCYXR0bGVzPC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT17c29ydCA9PT0gJ3dpbnMnID8gJ2FjdGl2ZScgOiBudWxsfSBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCd3aW5zJykpfT5XaW5zPC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT17c29ydCA9PT0gJ3dpblN0cmVhaycgPyAnYWN0aXZlJyA6IG51bGx9IG9uQ2xpY2s9eygoKSA9PiBjbGlja1NvcnQoJ3dpblN0cmVhaycpKX0+V2luIFN0cmVhazwvdGg+XG4gICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9e3NvcnQgPT09ICdsb3NzJyA/ICdhY3RpdmUnIDogbnVsbH0gb25DbGljaz17KCgpID0+IGNsaWNrU29ydCgnbG9zcycpKX0+TG9zc2VzPC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT17c29ydCA9PT0gJ2xvc3NTdHJlYWsnID8gJ2FjdGl2ZScgOiBudWxsfSBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCdsb3NzU3RyZWFrJykpfT5Mb3NzIFN0cmVhazwvdGg+XG4gICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9e3NvcnQgPT09ICdyYXRpbycgPyAnYWN0aXZlJyA6IG51bGx9IG9uQ2xpY2s9eygoKSA9PiBjbGlja1NvcnQoJ3JhdGlvJykpfT5XaW4gUmF0aW88c3Bhbj53aW5zL2JhdHRsZXM8L3NwYW4+PC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT17c29ydCA9PT0gJ2JhdHRsZXNNaXNzZWQnID8gJ2FjdGl2ZScgOiBudWxsfSBvbkNsaWNrPXsoKCkgPT4gY2xpY2tTb3J0KCdiYXR0bGVzTWlzc2VkJykpfT5CYXR0bGVzIE1pc3NlZDwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge3NvcnRlZERhdGEubWFwKChwLCBpKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBjbGFzc05hbWUgPSBwLnNjb3JlIDwgLTEgPyAnYmctZGFuZ2VyJyA6IHAuc2NvcmUgPD0gMSA/ICd0YWJsZS1kYW5nZXInIDogcC5zY29yZSA+PSA4ID8gJ3RhYmxlLXdhcm5pbmcnIDogJ3RhYmxlLXN1Y2Nlc3MnXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSArPSBwLmlzTWVtYmVyID8gJyBtZW1iZXInIDogJydcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8dHIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9e2NsYXNzTmFtZX0+e3AubmFtZX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPntwLnNjb3JlfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+e3AudG90YWxCYXR0bGVzfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+e3Aud2luc308L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPntwLndpblN0cmVha308L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPntwLmxvc3N9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD57cC5sb3NzU3RyZWFrfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+e3AucmF0aW8udG9GaXhlZCgyKX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPntwLmJhdHRsZXNNaXNzZWR9PC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC50YWJsZS1yZXNwb25zaXZlIHtcbiAgICAgICAgICBvdmVyZmxvdy14OiBpbml0aWFsO1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZSB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlIHRoZWFkIHtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUgdGhlYWQgdGgge1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgICBtaW4td2lkdGg6IDhyZW07XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlIHRoZWFkIHRoIHNwYW4ge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC41cmVtO1xuICAgICAgICB9XG4gICAgICAgIC50YWJsZSB0aGVhZCB0aC5hY3RpdmUge1xuICAgICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgICB9XG4gICAgICAgIHRhYmxlIHRib2R5IHRkOmZpcnN0LWNoaWxkOm5vdCgubWVtYmVyKSB7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZ3JleSAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdhclBlcmZvcm1hbmNlO1xuIl19 */\\n/*@ sourceURL=/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js */\"));\n};\n\nexport default WarPerformance;","map":{"version":3,"sources":["/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js"],"names":["useState","WarUser","name","wins","battlesPlayed","cardsEarned","numberOfBattles","battles","totalBattles","cards","isMember","lossStreak","winStreak","key","value","state","losses","ratio","loss","missed","battlesMissed","toFixed","processData","items","clan","participants","findUser","find","p","forEach","war","i","user","userObj","addToKey","push","setMember","memberList","m","winLoss","console","log","sortData","alt","sort","a","b","WarPerformance","props","setSort","setAlt","data","setData","sortedData","clickSort","newSort","map","className","score"],"mappings":"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","sourcesContent":["import { useState } from 'react'\n\nclass WarUser {\n  constructor({name, wins, battlesPlayed, cardsEarned, numberOfBattles}) {\n    this.name = name\n    this.wins = wins\n    this.battles = battlesPlayed\n    this.totalBattles = numberOfBattles\n    this.cards = cardsEarned\n    this.isMember = true\n    this.lossStreak = 0\n    this.winStreak = 0\n  }\n\n  addToKey(key, value) {\n    this[key] += value\n  }\n\n  setMember(state) {\n    this.isMember = state\n  }\n\n  winLoss(wins, losses) {\n    if (losses > 0 && wins === 0) {\n      this.lossStreak += losses\n      this.winStreak = 0\n    }\n    if (wins > 0) {\n      this.winStreak += wins\n      this.lossStreak = 0\n    }\n    // this.lossStreak = losses > 0 ? this.lossStreak + losses : this.winStreak++\n  }\n\n  get loss() {\n    return this.battles - this.wins\n  }\n\n  get ratio() {\n    return this.wins / this.totalBattles\n  }\n\n  get battlesMissed() {\n    return this.totalBattles - this.battles\n  }\n\n  get inRespect() {\n    return this.ratio >= 0.75 || this.loss === 0 && this.missed === 0\n  }\n\n  get inDanger() {\n    return this.ratio <= 0.25 || this.battlesMissed >= 3\n  }\n\n  get score() {\n    if (this.battles === 0) return 0\n    return (this.wins * (this.wins / this.battles) - ((this.battlesMissed * 2.5) * this.battlesMissed) + (this.wins * 0.5)).toFixed(2)\n  }\n}\n\nconst processData = (items, clan) => {\n  let participants = []\n  const findUser = (name) => participants.find((p) => p.name === name);\n  items.forEach((war, i) => {\n      war.participants.forEach((user) => {\n          var userObj = findUser(user.name)\n          if (!!userObj) {\n              userObj.addToKey('battles', user.battlesPlayed)\n              userObj.addToKey('wins', user.wins)\n              userObj.addToKey('cards', user.cardsEarned)\n              userObj.addToKey('totalBattles', user.numberOfBattles)\n          } else {\n              userObj = new WarUser(user)\n              participants.push(userObj)\n          }\n          userObj.setMember(clan.memberList.find(m => m.name === userObj.name))\n          let losses = user.numberOfBattles - user.wins\n          userObj.winLoss(user.wins, losses)\n          if (user.name === 'asianface') {\n            console.log(war, user, user.wins, losses)\n          }\n      })\n  })\n  return participants\n}\n\nconst sortData = (items, key, alt) => {\n  return items.sort((a, b) => alt ? a[key] - b[key] : b[key] - a[key])\n}\n\nconst WarPerformance = (props) => {\n  console.log(props.items)\n  const [sort, setSort] = useState('score')\n  const [alt, setAlt] = useState(false)\n  const [data, setData] = useState(processData(props.items, props.clan))\n\n  const sortedData = sortData(data, sort, alt)\n\n  const clickSort = (newSort) => {\n    if (newSort === sort) {\n      setAlt(!alt)\n    } else {\n      setSort(newSort)\n    }\n  }\n\n  return (\n    <>\n      <div className=\"table-responsive\">\n        <table className={'table table-sm'}>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th className={sort === 'score' ? 'active' : null} onClick={(() => clickSort('score'))}>Score</th>\n              <th className={sort === 'totalBattles' ? 'active' : null} onClick={(() => clickSort('totalBattles'))}>Total Battles</th>\n              <th className={sort === 'wins' ? 'active' : null} onClick={(() => clickSort('wins'))}>Wins</th>\n              <th className={sort === 'winStreak' ? 'active' : null} onClick={(() => clickSort('winStreak'))}>Win Streak</th>\n              <th className={sort === 'loss' ? 'active' : null} onClick={(() => clickSort('loss'))}>Losses</th>\n              <th className={sort === 'lossStreak' ? 'active' : null} onClick={(() => clickSort('lossStreak'))}>Loss Streak</th>\n              <th className={sort === 'ratio' ? 'active' : null} onClick={(() => clickSort('ratio'))}>Win Ratio<span>wins/battles</span></th>\n              <th className={sort === 'battlesMissed' ? 'active' : null} onClick={(() => clickSort('battlesMissed'))}>Battles Missed</th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedData.map((p, i) => {\n              let className = p.score < -1 ? 'bg-danger' : p.score <= 1 ? 'table-danger' : p.score >= 8 ? 'table-warning' : 'table-success'\n              className += p.isMember ? ' member' : ''\n              return (\n                <tr key={i}>\n                  <td className={className}>{p.name}</td>\n                  <td>{p.score}</td>\n                  <td>{p.totalBattles}</td>\n                  <td>{p.wins}</td>\n                  <td>{p.winStreak}</td>\n                  <td>{p.loss}</td>\n                  <td>{p.lossStreak}</td>\n                  <td>{p.ratio.toFixed(2)}</td>\n                  <td>{p.battlesMissed}</td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n      <style jsx>{`\n        .table-responsive {\n          overflow-x: initial;\n        }\n        .table {\n          width: 100%;\n        }\n        .table thead {\n          font-weight: bold;\n        }\n        .table thead th {\n          cursor: pointer;\n          position: sticky;\n          top: 0;\n          background: white;\n          min-width: 8rem;\n        }\n        .table thead th span {\n          display: block;\n          font-size: 0.5rem;\n        }\n        .table thead th.active {\n          color: blue;\n        }\n        table tbody td:first-child:not(.member) {\n          text-decoration: line-through;\n          font-weight: bold;\n          background-color: grey !important;\n        }\n        `}\n      </style>\n    </>\n  )\n}\n\nexport default WarPerformance;\n"]},"metadata":{},"sourceType":"module"}