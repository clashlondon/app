{"ast":null,"code":"import _readOnlyError from \"@babel/runtime-corejs2/helpers/esm/readOnlyError\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nvar _jsxFileName = \"/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\n\nvar WarUser =\n/*#__PURE__*/\nfunction () {\n  function WarUser(_ref) {\n    var name = _ref.name,\n        wins = _ref.wins,\n        battlesPlayed = _ref.battlesPlayed;\n\n    _classCallCheck(this, WarUser);\n\n    this.name = name;\n    this.wins = wins;\n    this.battles = battlesPlayed;\n  }\n\n  _createClass(WarUser, [{\n    key: \"addWins\",\n    value: function addWins(wins) {\n      this.wins += wins;\n    }\n  }, {\n    key: \"addBattles\",\n    value: function addBattles(battles) {\n      this.battles += battles;\n    }\n  }, {\n    key: \"ratio\",\n    get: function get() {\n      return this.wins / this.battles || 0;\n    }\n  }]);\n\n  return WarUser;\n}();\n\nvar processData = function processData(items) {\n  var participants = [];\n\n  var findUser = function findUser(name) {\n    return participants.find(function (p) {\n      return p.name === name;\n    });\n  };\n\n  items.forEach(function (war, i) {\n    war.participants.forEach(function (user) {\n      var userObj = findUser(user.name);\n\n      if (!!userObj) {\n        userObj.addBattles(user.battlesPlayed);\n        userObj.addWins(user.wins);\n      } else {\n        userObj = new WarUser(user);\n        participants.push(userObj);\n      }\n    });\n  });\n  return participants.sort(function (a, b) {\n    return b[\"wins\"] - a[\"wins\"] || b[\"battlesPlayed\"] - a[\"battlesPlayed\"];\n  });\n};\n\nvar WarPerformance = function WarPerformance(props) {\n  var _useState = useState(['wins']),\n      sort = _useState[0],\n      setSort = _useState[1];\n\n  var state = 'hello';\n  console.log(state);\n  var data = processData(props.items);\n  console.log(data);\n  return __jsx(\"div\", {\n    className: \"jsx-3920773514\" + \" \" + 'table',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3920773514\" + \" \" + 'header',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Name\"), __jsx(\"span\", {\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Wins\"), __jsx(\"span\", {\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Battles\"), __jsx(\"span\", {\n    onClick: function onClick() {\n      return state = (_readOnlyError(\"state\"), 'blll');\n    },\n    className: \"jsx-3920773514\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Ratio\")), data.map(function (p, i) {\n    return __jsx(\"div\", {\n      key: i,\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, p.name), __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, p.wins), __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, p.battlesPlayed), __jsx(\"span\", {\n      className: \"jsx-3920773514\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, p.wins / p.battlesPlayed));\n  }), __jsx(_JSXStyle, {\n    id: \"3920773514\",\n    __self: this\n  }, \".table.jsx-3920773514{width:100%;}.table.jsx-3920773514 .header.jsx-3920773514{font-weight:bold;}.table.jsx-3920773514>div.jsx-3920773514{display:grid;grid-template-columns:20% 20% 30% 30%;}.table.jsx-3920773514>div.jsx-3920773514 span.jsx-3920773514{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;text-align:left;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlFa0IsQUFHc0IsQUFHTSxBQUdKLEFBS0QsV0FWZCxFQU13QyxJQUh4QyxrQ0FLQSxvQkFHa0IsZ0JBQ2xCIiwiZmlsZSI6Ii9Vc2Vycy9tYnAvU2l0ZXMvbG9uZG9uLWNsYXNoLW5leHRqcy9jb21wb25lbnRzL1dhclBlcmZvcm1hbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuY2xhc3MgV2FyVXNlciB7XG4gIGNvbnN0cnVjdG9yKHtuYW1lLCB3aW5zLCBiYXR0bGVzUGxheWVkfSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLndpbnMgPSB3aW5zXG4gICAgdGhpcy5iYXR0bGVzID0gYmF0dGxlc1BsYXllZFxuICB9XG5cbiAgYWRkV2lucyh3aW5zKSB7XG4gICAgdGhpcy53aW5zICs9IHdpbnNcbiAgfVxuXG4gIGFkZEJhdHRsZXMoYmF0dGxlcykge1xuICAgIHRoaXMuYmF0dGxlcyArPSAgYmF0dGxlc1xuICB9XG5cbiAgZ2V0IHJhdGlvKCkge1xuICAgIHJldHVybiB0aGlzLndpbnMgLyB0aGlzLmJhdHRsZXMgfHwgMFxuICB9XG59XG5cbmNvbnN0IHByb2Nlc3NEYXRhID0gKGl0ZW1zKSA9PiB7XG4gIGxldCBwYXJ0aWNpcGFudHMgPSBbXVxuICBjb25zdCBmaW5kVXNlciA9IChuYW1lKSA9PiBwYXJ0aWNpcGFudHMuZmluZCgocCkgPT4gcC5uYW1lID09PSBuYW1lKTtcbiAgaXRlbXMuZm9yRWFjaCgod2FyLCBpKSA9PiB7XG4gICAgICB3YXIucGFydGljaXBhbnRzLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICAgICAgICB2YXIgdXNlck9iaiA9IGZpbmRVc2VyKHVzZXIubmFtZSlcbiAgICAgICAgICBpZiAoISF1c2VyT2JqKSB7XG4gICAgICAgICAgICAgIHVzZXJPYmouYWRkQmF0dGxlcyh1c2VyLmJhdHRsZXNQbGF5ZWQpXG4gICAgICAgICAgICAgIHVzZXJPYmouYWRkV2lucyh1c2VyLndpbnMpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXNlck9iaiA9IG5ldyBXYXJVc2VyKHVzZXIpXG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50cy5wdXNoKHVzZXJPYmopXG4gICAgICAgICAgfVxuICAgICAgfSlcbiAgfSlcblxuICByZXR1cm4gcGFydGljaXBhbnRzLnNvcnQoKGEsIGIpID0+IGJbXCJ3aW5zXCJdIC0gYVtcIndpbnNcIl0gfHwgYltcImJhdHRsZXNQbGF5ZWRcIl0gLSBhW1wiYmF0dGxlc1BsYXllZFwiXSlcbn1cblxuY29uc3QgV2FyUGVyZm9ybWFuY2UgPSAocHJvcHMpID0+IHtcblxuICBjb25zdCBbc29ydCwgc2V0U29ydF0gPSB1c2VTdGF0ZShbJ3dpbnMnXSlcbiAgY29uc3Qgc3RhdGUgPSAnaGVsbG8nXG4gIGNvbnNvbGUubG9nKHN0YXRlKVxuXG4gIGNvbnN0IGRhdGEgPSBwcm9jZXNzRGF0YShwcm9wcy5pdGVtcylcbiAgY29uc29sZS5sb2coZGF0YSlcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17J3RhYmxlJ30+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17J2hlYWRlcid9PlxuICAgICAgICA8c3Bhbj5OYW1lPC9zcGFuPlxuICAgICAgICA8c3Bhbj5XaW5zPC9zcGFuPlxuICAgICAgICA8c3Bhbj5CYXR0bGVzPC9zcGFuPlxuICAgICAgICA8c3BhbiBvbkNsaWNrPXsoKCkgPT4gc3RhdGUgPSAnYmxsbCcpfT5SYXRpbzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAge2RhdGEubWFwKChwLCBpKSA9PiAoXG4gICAgICAgIDxkaXYga2V5PXtpfT5cbiAgICAgICAgICA8c3Bhbj57cC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj57cC53aW5zfTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj57cC5iYXR0bGVzUGxheWVkfTwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj57cC53aW5zIC8gcC5iYXR0bGVzUGxheWVkfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApKX1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLnRhYmxlIHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgICAudGFibGUgLmhlYWRlciB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlID4gZGl2IHtcbiAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMjAlIDIwJSAzMCUgMzAlO1xuICAgICAgICAgIC8vIGdyaWQtdGVtcGxhdGUtcm93czogMTAwdmg7XG4gICAgICAgIH1cbiAgICAgICAgLnRhYmxlID4gZGl2IHNwYW4ge1xuICAgICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2FyUGVyZm9ybWFuY2U7XG4iXX0= */\\n/*@ sourceURL=/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js */\"));\n};\n\nexport default WarPerformance;","map":{"version":3,"sources":["/Users/mbp/Sites/london-clash-nextjs/components/WarPerformance.js"],"names":["useState","WarUser","name","wins","battlesPlayed","battles","processData","items","participants","findUser","find","p","forEach","war","i","user","userObj","addBattles","addWins","push","sort","a","b","WarPerformance","props","setSort","state","console","log","data","map"],"mappings":"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","sourcesContent":["import { useState } from 'react'\n\nclass WarUser {\n  constructor({name, wins, battlesPlayed}) {\n    this.name = name\n    this.wins = wins\n    this.battles = battlesPlayed\n  }\n\n  addWins(wins) {\n    this.wins += wins\n  }\n\n  addBattles(battles) {\n    this.battles +=  battles\n  }\n\n  get ratio() {\n    return this.wins / this.battles || 0\n  }\n}\n\nconst processData = (items) => {\n  let participants = []\n  const findUser = (name) => participants.find((p) => p.name === name);\n  items.forEach((war, i) => {\n      war.participants.forEach((user) => {\n          var userObj = findUser(user.name)\n          if (!!userObj) {\n              userObj.addBattles(user.battlesPlayed)\n              userObj.addWins(user.wins)\n          } else {\n              userObj = new WarUser(user)\n              participants.push(userObj)\n          }\n      })\n  })\n\n  return participants.sort((a, b) => b[\"wins\"] - a[\"wins\"] || b[\"battlesPlayed\"] - a[\"battlesPlayed\"])\n}\n\nconst WarPerformance = (props) => {\n\n  const [sort, setSort] = useState(['wins'])\n  const state = 'hello'\n  console.log(state)\n\n  const data = processData(props.items)\n  console.log(data)\n  return (\n    <div className={'table'}>\n      <div className={'header'}>\n        <span>Name</span>\n        <span>Wins</span>\n        <span>Battles</span>\n        <span onClick={(() => state = 'blll')}>Ratio</span>\n      </div>\n      {data.map((p, i) => (\n        <div key={i}>\n          <span>{p.name}</span>\n          <span>{p.wins}</span>\n          <span>{p.battlesPlayed}</span>\n          <span>{p.wins / p.battlesPlayed}</span>\n        </div>\n      ))}\n      <style jsx>{`\n        .table {\n          width: 100%;\n        }\n        .table .header {\n          font-weight: bold;\n        }\n        .table > div {\n          display: grid;\n          grid-template-columns: 20% 20% 30% 30%;\n          // grid-template-rows: 100vh;\n        }\n        .table > div span {\n          flex-grow: 1;\n          text-align: left;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default WarPerformance;\n"]},"metadata":{},"sourceType":"module"}